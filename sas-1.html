<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Animal Society - Adoption Flow</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /*
         * CORE CSS: MOBILE-FIRST AND RESPONSIVE STYLING
         * Using a standard system font stack for local file compatibility.
         */
        :root {
            /* UPDATED THEME: Pink Primary, Purple Secondary */
            --primary-color: #FFE3E8; /* Lighter Pink (Main UI elements, light background) */
            --secondary-color: #8A2BE2; /* Blue Violet (Purple Accent, strong contrast) */
           
            --background-color: #f4f4f9;
            --card-background: #ffffff;
            --text-color: #333333;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 450px; /* Simulates a mobile device view */
            background: var(--card-background);
            box-shadow: var(--shadow);
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            /* NEW: Purple Outline Designs */
            border: 4px solid var(--secondary-color); /* Solid purple frame */
            box-shadow: 0 0 20px rgba(138, 43, 226, 0.4); /* Purple glow effect */
        }

        /* Utility for hiding screens */
        .screen {
            display: none;
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
        }

        /* --- Header/Footer Styles --- */
        header, footer {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: var(--text-color); /* Dark text for light pink header */
            background-color: var(--primary-color);
            z-index: 10;
            box-shadow: var(--shadow);
        }

        header {
            justify-content: space-between;
        }

        header h1 {
            font-size: 1.25rem;
            margin: 0;
            font-weight: 600;
        }

        .icon-btn {
            background: none;
            border: none;
            color: var(--text-color); /* Dark icons for light pink header */
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            transition: opacity 0.2s;
        }

        .icon-btn:hover { opacity: 0.7; }

        .tab-bar {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            background-color: var(--card-background);
            border-top: 1px solid #ddd;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.05);
        }

        .tab-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #888;
            font-size: 0.75rem;
            cursor: pointer;
            padding: 5px;
            transition: color 0.2s;
        }

        .tab-item i {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .tab-item.active {
            color: var(--secondary-color); /* Purple accent for active tab */
        }

        /* --- Screen Specific Styles --- */

        /* S1: Home/Mission */
        .mission-section h2 {
            color: var(--secondary-color); /* Purple accent for headings */
            font-size: 1.8rem;
            margin-top: 10px;
        }

        .hero-image {
            width: 100%;
            height: 150px;
            /* Pink background, dark text for Hero */
            background: url("https://placehold.co/400x150/FFE3E8/333333?text=Secret+Society+Hero") no-repeat center center/cover;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        /* S2: Main Menu */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 20px;
            padding-top: 40px;
        }

        .menu-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--primary-color); /* Lighter Pink background */
            color: var(--text-color); /* Dark text for contrast */
            padding: 20px 10px;
            border-radius: 50%; /* Circular button shape */
            aspect-ratio: 1 / 1;
            text-align: center;
            font-weight: 500;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }

        .menu-button:active {
            transform: scale(0.95);
            background-color: var(--secondary-color); /* Purple on active press */
            color: white;
        }

        .menu-button i {
            font-size: 2rem;
            margin-bottom: 5px;
        }
       
        /* New Menu Link Button for navigation outside the grid */
        .menu-link-button {
            background-color: #E6E0FF;
            color: var(--secondary-color);
            border: 2px solid var(--secondary-color);
            width: 100%;
            padding: 15px;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .menu-link-button:hover {
            background-color: #d8c7ff;
        }


        /* S3, S10, S11, S12, S14, S15, S16: Section style */
        .help-section {
            background: var(--card-background);
            padding: 15px;
            border-left: 5px solid var(--secondary-color); /* Purple border accent */
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        /* Specific style for interactive sections (like the Quiz/Guide) */
        .interactive-section {
            background: #fcf8ff; /* Very light purple tint */
            padding: 20px;
            border: 1px dashed var(--secondary-color);
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        .quiz-option {
            background-color: var(--primary-color); /* Lighter Pink for options */
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            border: 2px solid transparent;
        }
        .quiz-option:hover {
            background-color: #FFC0CB; /* Slightly darker pink on hover */
        }
        .quiz-option.correct {
            background-color: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }
        .quiz-option.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
        }
        .quiz-option.disabled {
            opacity: 0.6;
            cursor: default;
        }

        .help-section h3 {
            color: var(--secondary-color); /* Purple accent for titles */
            margin-top: 0;
            margin-bottom: 5px;
        }

        .adopt-button {
            border-left-color: #FFC0CB; /* Pink border accent for CTAs */
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .adopt-button:hover {
            background-color: #fff5f7; /* Very light pink/white for hover based on new primary */
        }

        /* S4, S8, S9, S11: Questionnaire Forms */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-color);
        }

        /* Custom styling for all form input fields, select, and textarea, using light purple border */
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="number"],
        .form-group select,
        .form-group textarea { /* ADDED TEXTAREA HERE */
            width: 100%;
            padding: 12px;
            border: 1px solid #C3B1E1; /* Light purple border */
            border-radius: var(--border-radius);
            box-sizing: border-box;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        /* Focus state using dark purple and a shadow */
        .form-group input[type="text"]:focus,
        .form-group input[type="email"]:focus,
        .form-group input[type="tel"]:focus,
        .form-group input[type="number"]:focus,
        .form-group select:focus,
        .form-group textarea:focus { /* ADDED TEXTAREA HERE */
            border-color: var(--secondary-color); /* Purple focus border */
            outline: none;
            box-shadow: 0 0 0 3px rgba(138, 43, 226, 0.2);
        }

        .error-message {
            color: #d9534f;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .selection-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .selection-label {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            background-color: #eee;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: background-color 0.2s, border-color 0.2s;
            border: 2px solid transparent;
        }

        .selection-label input[type="radio"], .selection-label input[type="checkbox"] {
            display: none;
        }

        /* Selected state for radio/checkbox labels */
        .selection-label input:checked + span {
            background-color: var(--secondary-color); /* Purple selection background */
            color: white;
            border-color: var(--secondary-color);
            padding: 6px 13px; /* Adjust padding to keep size consistent after border */
        }

        /* Button styling */
        .submit-button {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color); /* Lighter Pink submit button */
            color: var(--text-color); /* Dark text */
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.2s;
        }

        .submit-button:hover:not(:disabled) {
            background-color: #FFC0CB; /* Using old primary as the new darker pink hover color */
        }

        .submit-button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        /* S5: Loading Screen */
        .loading-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .loading-indicator {
            width: 50px;
            height: 50px;
            border: 5px solid #ddd;
            border-top: 5px solid var(--secondary-color); /* Purple spinner top */
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* S6: Results Grid */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .pet-card {
            background: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
            cursor: pointer;
            transition: transform 0.15s, box-shadow 0.15s;
        }

        .pet-card:active {
            transform: translateY(2px);
            box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.15);
        }

        .pet-card-image {
            width: 100%;
            height: 100px;
            background-color: var(--primary-color); /* Lighter Pink card image background */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
        }

        .pet-card-info {
            padding: 10px 5px;
        }

        .pet-card-info h4 {
            margin: 0 0 4px 0;
            color: var(--secondary-color); /* Purple accent for pet names */
            font-size: 1rem;
        }

        .pet-card-info p {
            margin: 0;
            font-size: 0.85rem;
            color: #777;
        }

        /* Specific styling for the foster reason to stand out */
        .pet-card-reason {
            margin-top: 5px;
            font-size: 0.75rem;
            color: #8A2BE2; /* Purple text for importance */
            font-weight: 500;
            padding: 0 5px 5px 5px;
            background-color: #f0e6ff; /* Very light purple background */
        }

        .no-results {
            text-align: center;
            padding: 40px 20px;
            /* Purple text and border, light pink background */
            background: #fff0f5;
            border: 1px solid var(--secondary-color);
            border-radius: var(--border-radius);
            color: var(--secondary-color);
        }

        /* S7: Location Screen */
        .location-map {
            width: 100%;
            height: 200px;
            /* Purple map placeholder */
            background: url("https://placehold.co/400x200/8A2BE2/FFFFFF?text=Mock+Map+View") no-repeat center center/cover;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        .address-block {
            padding: 15px;
            background: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-top: 15px;
        }

        /* S9: Donation Screen - UPDATED STYLES FOR MORE BUTTONS */
        .donation-options {
            display: flex;
            /* Added flex-wrap to handle 5 or more buttons nicely */
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 20px;
            gap: 10px;
        }
        .donation-btn {
            /* Set width for approximately 3 items per row on mobile */
            width: calc(33.33% - 7px);
            padding: 10px 5px;
            background-color: #f0e6ff; /* Lightest purple */
            color: var(--secondary-color);
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .donation-btn:hover {
             background-color: #e6d3ff;
        }
        .donation-btn.selected {
             background-color: var(--secondary-color);
             color: white;
             border-color: #7A00FF;
        }

        /* --- Status Indicator --- */
        #status-indicator {
            background-color: var(--secondary-color); /* Uses secondary (purple) color for contrast bar */
            color: white;
            padding: 8px 10px;
            text-align: center;
            font-size: 0.75rem;
        }
        /* New Screen Styling for S14, S15, S16 */
        .detail-guide h4 {
            color: var(--secondary-color);
            margin-top: 25px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
            font-size: 1.3rem;
        }
        .detail-guide ul {
            list-style: none;
            padding: 0;
        }
        .detail-guide li {
            background-color: #fcf8ff;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            line-height: 1.4;
        }

    </style>
</head>
<body>

    <div class="app-container">

        <!-- Header (Used on most screens, content managed by JS) -->
        <header id="app-header">
            <h1 id="header-title">Secret Animal Society</h1>
            <!-- Using simple text 'üîç' for search icon since no icon library is allowed -->
            <button class="icon-btn" onclick="console.log('Search functionality clicked.'); showSearchModal()">üîç</button>
        </header>

        <!-- Status/Debug Indicator (Always visible for easy debugging) -->
        <div id="status-indicator">App Status: Ready (Screen 1)</div>

        <!-- S1: Home / Mission Screen -->
        <div id="screen-home" class="screen active">
            <div class="mission-section">
                <div class="hero-image"></div>
                <h2>OUR MISSION</h2>
                <ul>
                    <li>Rescue and rehabilitate stray and abandoned animals.</li>
                    <li>Promote responsible pet ownership through education.</li>
                    <li>Facilitate loving, permanent adoptions.</li>
                    <li>Advocate for animal welfare policies.</li>
                </ul>
            </div>
            <!-- Footer Icons (Simulated footer on this screen) -->
            <div style="display: flex; justify-content: space-around; padding-top: 30px; border-top: 1px solid #eee;">
                <!-- SETTINGS BUTTON UPDATED to navigate to screen-settings -->
                <button class="icon-btn" style="color: var(--secondary-color);" onclick="showScreen('screen-settings')">‚öôÔ∏è</button>
                <button class="icon-btn" style="color: var(--secondary-color);" onclick="console.log('Social Media Clicked - Should open external link.');">üîó</button>
            </div>
            <!-- Auto-navigate to Main Menu after viewing mission -->
            <button class="submit-button" style="margin-top: 30px;" onclick="showScreen('screen-menu')">Continue to Main Menu</button>
        </div>

        <!-- S2: Main Menu Screen -->
        <div id="screen-menu" class="screen">
            <h2 style="text-align: center; color: var(--secondary-color); margin-bottom: 30px;">Main Menu</h2>
            <div class="menu-grid">
                <div class="menu-button" onclick="showScreen('screen-help')">
                    <i class="fas fa-paw"></i>
                    <span>Adoptions and More</span>
                </div>
                <!-- UPDATED TO NEW CRUELTY REPORT FORM -->
                <div class="menu-button" onclick="showScreen('screen-cruelty-report')">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Report Animal Cruelty</span>
                </div>
                <!-- UPDATED TO NEW LOST & FOUND SCREEN -->
                <div class="menu-button" onclick="showScreen('screen-lost-found')">
                    <i class="fas fa-search-location"></i>
                    <span>Lost & Found</span>
                </div>
            </div>
           
            <!-- NEW: Back to Home/Mission Button -->
            <button class="menu-link-button" onclick="showScreen('screen-home')">
                <i class="fas fa-arrow-left"></i> Back to Mission Statement (Home)
            </button>
        </div>

        <!-- S3: "How to Help" Information Screen (Simplified with all links) -->
        <div id="screen-help" class="screen">
            <h2 style="color: var(--secondary-color);">Ways to Help</h2>

            <!-- ADOPTION (Call to Action) -->
            <div class="help-section adopt-button" onclick="showScreen('screen-form')">
                <h3 style="color: var(--secondary-color);">Adopt a Pet ‚û°Ô∏è</h3>
                <p>Find your new best friend by starting the adoption process now.</p>
            </div>

            <!-- FOSTER/SAVE (NEW CTA) -->
            <div class="help-section adopt-button" onclick="showScreen('screen-foster-form')">
                <h3 style="color: var(--secondary-color);">Become a Foster Parent üè°‚û°Ô∏è</h3>
                <p>Provide a temporary loving home for an animal in need of healing or socialization.</p>
            </div>

            <!-- EDUCATIONAL: BODY LANGUAGE (Link to S14) -->
            <div class="help-section adopt-button" onclick="showScreen('screen-body-language')">
                <h3 style="color: var(--secondary-color);">Understand Pet Body Language üëÄ‚û°Ô∏è</h3>
                <p>Learn to read the subtle signals your dog or cat is sending you.</p>
            </div>

            <!-- EDUCATIONAL: FOUND/WILD ANIMAL (Link to S15) -->
            <div class="help-section adopt-button" onclick="showScreen('screen-find-animal')">
                <h3 style="color: var(--secondary-color);">Found Animal Protocol üîé‚û°Ô∏è</h3>
                <p>A step-by-step guide on what to do if you encounter a lost or stray animal.</p>
            </div>

            <!-- EDUCATIONAL: HEALTH AND PREVENTION (Link to S16) -->
            <div class="help-section adopt-button" onclick="showScreen('screen-pet-health')">
                <h3 style="color: var(--secondary-color);">Basic Pet Health Guide ü©π‚û°Ô∏è</h3>
                <p>Information on common prevention, vaccination schedules, and local vet resources.</p>
            </div>

            <!-- DONATE -->
            <div class="help-section adopt-button" onclick="showScreen('screen-donate-form')">
                <h3 style="color: var(--secondary-color);">Donate üí∏‚û°Ô∏è</h3>
                <p>Support our rescue efforts by donating funds, supplies, or time.</p>
            </div>

            <!-- HOME NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-menu')">
                    <i class="fas fa-home"></i> Back to Main Menu
                </button>
            </div>
        </div>

        <!-- S4: Adoption Questionnaire Form -->
        <div id="screen-form" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Adoption Preferences</h2>
            <form id="adoption-form">

                <!-- Contact Information Fields -->
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                    <div id="email-error" class="error-message"></div>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone">
                </div>

                <!-- Animal Type Selection -->
                <div class="form-group">
                    <label>Preferred Animal Type *</label>
                    <div class="selection-group">
                        <!-- Use radio buttons for single selection (only one animal type) -->
                        <label class="selection-label"><input type="radio" name="animal_type" value="Dog" required><span>Dog</span></label>
                        <label class="selection-label"><input type="radio" name="animal_type" value="Cat"><span>Cat</span></label>
                        <label class="selection-label"><input type="radio" name="animal_type" value="Bird"><span>Bird</span></label>
                        <label class="selection-label"><input type="radio" name="animal_type" value="Turtle"><span>Turtle</span></label>
                    </div>
                </div>

                <!-- Personality & Age Preference Selection -->
                <div class="form-group">
                    <label>Preferred Personality Traits (Select All That Apply)</label>
                    <div class="selection-group">
                        <!-- Use checkboxes for multi-selection (multiple personality traits) -->
                        <label class="selection-label"><input type="checkbox" name="personality" value="calm"><span>Calm</span></label>
                        <label class="selection-label"><input type="checkbox" name="personality" value="active"><span>Active</span></label>
                        <label class="selection-label"><input type="checkbox" name="personality" value="energetic"><span>Energetic</span></label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Age Preference</label>
                    <!-- Select element uses the new custom form-group styling -->
                    <select id="age_pref">
                        <option value="any">Any Age</option>
                        <option value="young">Puppy / Kitten</option>
                        <option value="adult">Adult</option>
                        <option value="senior">Senior</option>
                    </select>
                </div>

                <button type="submit" class="submit-button" id="form-submit-btn">Submit Application</button>
            </form>

            <!-- NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-help')">
                    <i class="fas fa-arrow-left"></i> Back to Adoptions & Help
                </button>
            </div>
        </div>

        <!-- S8: Foster Questionnaire Form -->
        <div id="screen-foster-form" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Foster Application Survey</h2>
            <form id="foster-form">

                <!-- Housing Info -->
                <div class="form-group">
                    <label>What kind of home do you live in? *</label>
                    <div class="selection-group">
                        <label class="selection-label"><input type="radio" name="housing" value="house" required><span>House with yard</span></label>
                        <label class="selection-label"><input type="radio" name="housing" value="apartment"><span>Apartment/Condo</span></label>
                    </div>
                </div>

                <!-- Time Commitment -->
                <div class="form-group">
                    <label>How many hours are you usually away from home on weekdays? *</label>
                    <select id="time_away" required>
                        <option value="1-3">1-3 hours</option>
                        <option value="4-6">4-6 hours</option>
                        <option value="7+">7 or more hours</option>
                    </select>
                </div>

                <!-- Experience -->
                <div class="form-group">
                    <label>Do you have previous pet experience? *</label>
                    <div class="selection-group">
                        <label class="selection-label"><input type="radio" name="experience" value="yes" required><span>Yes, lots!</span></label>
                        <label class="selection-label"><input type="radio" name="experience" value="some"><span>Some experience</span></label>
                        <label class="selection-label"><input type="radio" name="experience" value="none"><span>Not much</span></label>
                    </div>
                </div>

                <!-- Pet Preference -->
                <div class="form-group">
                    <label>Which animal would you be most comfortable fostering? (Select at least one)</label>
                    <div class="selection-group">
                        <label class="selection-label"><input type="checkbox" name="foster_type" value="cats"><span>Cats/Kittens</span></label>
                        <label class="selection-label"><input type="checkbox" name="foster_type" value="dogs"><span>Dogs/Puppies</span></label>
                        <label class="selection-label"><input type="checkbox" name="foster_type" value="other"><span>Small Animals (Birds, Turtles, etc.)</span></label>
                    </div>
                </div>

                <button type="submit" class="submit-button" id="foster-submit-btn">Submit Foster Survey</button>
            </form>

            <!-- NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-help')">
                    <i class="fas fa-arrow-left"></i> Back to Adoptions & Help
                </button>
            </div>
        </div>

        <!-- S9: Donation Form Screen -->
        <div id="screen-donate-form" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Support Our Shelter Animals</h2>
            <p>Every dollar helps us provide food, medical care, and safe shelter for animals in need.</p>

            <div class="donation-options">
                <button class="donation-btn" data-amount="25" onclick="selectDonation(this)">$25</button>
                <button class="donation-btn" data-amount="50" onclick="selectDonation(this)">$50</button>
                <button class="donation-btn" data-amount="100" onclick="selectDonation(this)">$100</button>
                <button class="donation-btn" data-amount="200" onclick="selectDonation(this)">$200</button>
                <button class="donation-btn" data-amount="500" onclick="selectDonation(this)">$500</button>
            </div>

            <div class="form-group">
                <label for="custom_amount">Other Amount (USD)</label>
                <input type="number" id="custom_amount" placeholder="Enter amount..." oninput="clearSelection()">
            </div>

            <p style="text-align: center; margin-top: 30px; font-style: italic;">
                Thank you! Your donation is tax-deductible.
            </p>

            <button class="submit-button" onclick="submitDonation()">Proceed to Payment</button>

            <!-- HOME NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-menu')">
                    <i class="fas fa-home"></i> Back to Main Menu
                </button>
            </div>
        </div>

        <!-- S10: Lost & Found Menu (Placeholder) -->
        <div id="screen-lost-found" class="screen">
            <h2 style="color: var(--secondary-color);">Lost & Found</h2>
            <p>We can help you search for a missing pet or report an animal you've found.</p>

            <div class="help-section adopt-button" onclick="alertPlaceholder('Lost Pet Report')">
                <h3 style="color: var(--secondary-color);">I've Lost My Pet üò¢‚û°Ô∏è</h3>
                <p>File a report to search our database of found animals.</p>
            </div>

            <div class="help-section adopt-button" onclick="alertPlaceholder('Found Animal Report')">
                <h3 style="color: var(--secondary-color);">I've Found an Animal üîé‚û°Ô∏è</h3>
                <p>Report an animal you've captured or located in the neighborhood.</p>
            </div>

            <div class="help-section">
                <h3>Tips for Finding Lost Pets</h3>
                <ul>
                    <li>**Cats:** Search early morning or late evening. They often hide silently close to home.</li>
                    <li>**Dogs:** Put familiar items (bedding, toys) outside your door.</li>
                    <li>**All:** Immediately check your local official animal control facility in person.</li>
                </ul>
            </div>

            <!-- HOME NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-menu')">
                    <i class="fas fa-home"></i> Back to Main Menu
                </button>
            </div>
        </div>

        <!-- S11: Report Animal Cruelty Form (NEW FOCUSED SCREEN) -->
        <div id="screen-cruelty-report" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Urgent: Report Animal Cruelty</h2>
            <p>Your report is critical. Please provide accurate details. Your contact information is optional for anonymity but highly encouraged for follow-up.</p>

            <form id="cruelty-report-form">

                <!-- CONTACT DETAILS (Optional) -->
                <div class="form-group">
                    <label for="reporter_name">Your Name (Optional)</label>
                    <input type="text" id="reporter_name" name="reporter_name" placeholder="Leave blank to report anonymously">
                </div>
                <div class="form-group">
                    <label for="reporter_email">Email Address (Optional)</label>
                    <input type="email" id="reporter_email" name="reporter_email" placeholder="Required if you want follow-up">
                </div>

                <!-- INCIDENT LOCATION (MANDATORY) -->
                <div class="form-group">
                    <label for="incident_location">Location of Incident (Street Address / Landmark) *</label>
                    <input type="text" id="incident_location" name="incident_location" required placeholder="e.g., 123 Main St. or Corner of Oak and 5th">
                    <div id="location-error" class="error-message"></div>
                </div>

                <!-- INCIDENT DESCRIPTION (MANDATORY) -->
                <div class="form-group">
                    <label for="incident_description">What exactly is happening to the animal? *</label>
                    <textarea id="incident_description" name="incident_description" rows="5" required placeholder="Describe the animal's condition, the nature of the abuse/neglect, and the people involved (if any)."></textarea>
                    <div id="description-error" class="error-message"></div>
                </div>

                <button type="submit" class="submit-button" id="cruelty-submit-btn">Submit Cruelty Report</button>
            </form>

            <!-- HOME NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-menu')">
                    <i class="fas fa-home"></i> Back to Main Menu
                </button>
            </div>
        </div>


        <!-- S12: General Settings Screen (Placeholder) -->
        <div id="screen-settings" class="screen">
            <h2 style="color: var(--secondary-color);">Settings & Privacy</h2>
            <div class="help-section">
                <h3>Notification Preferences</h3>
                <p>Toggle alerts for adoption matches and local events.</p>
                <label class="selection-label"><input type="checkbox" name="settings_notifications" value="on" checked><span>Receive push notifications</span></label>
            </div>

            <div class="help-section">
                <h3>Data & Privacy</h3>
                <p>We respect your privacy. All cruelty reports can be made anonymously.</p>
                <button class="submit-button" style="margin-top: 10px; background-color: #f8d7da; color: #721c24;" onclick="alertPlaceholder('Data Reset')">Reset All App Data</button>
            </div>

            <!-- HOME NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-menu')">
                    <i class="fas fa-home"></i> Back to Main Menu
                </button>
            </div>
        </div>
       
        <!-- S14: Pet Body Language Guide Screen -->
        <div id="screen-body-language" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Understanding Your Pet's Body Language</h2>
            <p>Learning how your pet communicates through movement, posture, and vocalization is vital for building a trusting relationship and knowing when they need help.</p>

            <div class="detail-guide">
               
                <h4>Dogs: Key Cues and Signals</h4>
                <p style="font-style: italic;">Observe the whole dog‚Äîeyes, mouth, tail, and posture‚Äîto understand their mood.</p>
                <ul>
                    <li><strong style="color: green;">Comfort & Happiness:</strong> Soft, almond-shaped eyes; loose, relaxed mouth (often panting gently); sweeping tail wag (not stiff); relaxed posture.</li>
                    <li><strong style="color: orange;">Stress & Anxiety:</strong> Lip licking, yawning (when not tired), turning head away, excessive shedding, 'whale eye' (seeing the whites of the eyes), low tail carriage.</li>
                    <li><strong style="color: red;">Fear & Warning:</strong> Crouching low, tail tucked tightly, freezing (immobility), low growl/snarl, hackles raised (fur standing up). **Approach with caution.**</li>
                    <li><strong style="color: #8A2BE2;">Play:</strong> The 'play bow' (front end low, rear end up), bouncy movement, excited barks.</li>
                </ul>

                <h4>Cats: Subtle Signals and Behavior</h4>
                <p style="font-style: italic;">Cat language is often quieter and more nuanced than dogs. Pay close attention to ears and tail movement.</p>
                <ul>
                    <li><strong style="color: green;">Content & Affection:</strong> Slow blinks (the "cat kiss"), tail held high with a slight curl at the tip, kneading their paws, purring.</li>
                    <li><strong style="color: orange;">Agitated & Annoyed:</strong> Rapid tail twitching, ears turning backward or flattening, dilated pupils (large dark eyes), stiff body posture.</li>
                    <li><strong style="color: red;">Fear & Aggression:</strong> Arched back ("Halloween cat"), fur standing straight up (piloerection), tail tucked or whipping hard, flattened ears, hissing or growling. **Do not force interaction.**</li>
                </ul>
               
                <p style="margin-top: 20px; font-size: 0.9rem; text-align: center; color: #555;">
                    If your pet suddenly changes its behavior, consult a certified behaviorist or veterinarian.
                </p>

            </div>

            <!-- NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-help')">
                    <i class="fas fa-arrow-left"></i> Back to Ways to Help
                </button>
            </div>
        </div>

        <!-- S15: Found Animal Protocol Screen (NEW) -->
        <div id="screen-find-animal" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Found Animal Protocol</h2>
            <p>Safety first! Follow these steps when you encounter an unfamiliar animal, whether it's a lost pet or wildlife.</p>

            <div class="detail-guide">
               
                <h4>Step 1: Assess the Situation</h4>
                <ul>
                    <li>**Do Not Chase:** Chasing a frightened pet can cause it to run into traffic. Approach slowly and calmly.</li>
                    <li>**Check for Danger:** Do not attempt to help an injured animal or wildlife unless you are trained. Call a professional.</li>
                    <li>**Wildlife Rule:** If it's a baby animal (e.g., bird, fawn, rabbit), leave it alone. The mother is almost always nearby and waiting for you to leave.</li>
                </ul>

                <h4>Step 2: Secure the Animal (If Safe)</h4>
                <ul>
                    <li>**For Dogs:** Lure them with food and secure them with a makeshift leash. Check for a collar.</li>
                    <li>**For Cats:** Gently contain them in a carrier or box. Be mindful of scratches.</li>
                    <li>**Immediately Report to us:** Use the "I've Found an Animal" section on our Lost & Found screen.</li>
                </ul>

                <h4>Step 3: Seek Identification</h4>
                <ul>
                    <li>**Check for Tags:** Look for a rabies tag or ID tag on the collar.</li>
                    <li>**Microchip Scan:** Take the animal to a local vet office or shelter (including ours) immediately to have it scanned for a microchip. This is the fastest way to find the owner, and it's free.</li>
                </ul>

            </div>

            <!-- NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-help')">
                    <i class="fas fa-arrow-left"></i> Back to Ways to Help
                </button>
            </div>
        </div>
       
        <!-- S16: Basic Pet Health Guide Screen (NEW) -->
        <div id="screen-pet-health" class="screen">
            <h2 style="color: var(--secondary-color); margin-top: 0;">Basic Pet Health & Prevention</h2>
            <p>A healthy pet is a happy pet. Regular care and preventative measures are essential for a long life together.</p>

            <div class="detail-guide">
               
                <h4>Preventative Care Essentials</h4>
                <ul>
                    <li>**Parasite Prevention:** **Year-round** protection against **fleas, ticks, mites, and heartworm** is critical, even in winter months. Consult your vet for the best product.</li>
                    <li>**Vaccinations:** Keep all core vaccinations (e.g., Rabies, Distemper) up-to-date as recommended by your veterinarian.</li>
                    <li>**Spay/Neuter:** Highly recommended to control the pet population and reduce the risk of certain cancers and behavioral issues.</li>
                    <li>**Dental Care:** Dental disease is common. Schedule regular dental check-ups and cleanings.</li>
                </ul>

                <h4>Local Veterinary Resources (Mock Data)</h4>
                <p style="margin-top: 10px; font-style: italic; font-size: 0.9rem; color: #555;">
                    These are mock veterinary contacts for demonstration purposes. Always confirm details locally.
                </p>
                <ul>
                    <li style="background-color: #e6d3ff;">
                        **Dr. Petal's Clinic**<br>
                        Address: 789 Blossom Lane, Cityville<br>
                        Phone: (555) 123-PETS
                    </li>
                    <li style="background-color: #e6d3ff;">
                        **Violet Veterinary Care**<br>
                        Address: 101 Paw Street, Townburg<br>
                        Phone: (555) 987-HEAL
                    </li>
                </ul>

            </div>

            <!-- NAVIGATION BUTTON -->
            <div style="text-align: center; margin-top: 30px; margin-bottom: 10px;">
                <button class="submit-button"
                        style="background-color: #E6E0FF; color: var(--secondary-color); border: 2px solid var(--secondary-color); width: 80%;"
                        onclick="showScreen('screen-help')">
                    <i class="fas fa-arrow-left"></i> Back to Ways to Help
                </button>
            </div>
        </div>


        <!-- S13: Placeholder Success/Error Modal (Not a full screen, but a modal overlay) -->
        <div id="modal-message" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 100;">
            <div style="background: var(--card-background); margin: 20% auto; padding: 30px; border-radius: var(--border-radius); max-width: 300px; text-align: center; box-shadow: var(--shadow);">
                <h3 id="modal-title" style="color: var(--secondary-color);">Message</h3>
                <p id="modal-text">Content goes here.</p>
                <button class="submit-button" style="width: auto; padding: 10px 20px;" onclick="closeModal()">Close</button>
            </div>
        </div>


    </div>

    <!-- Font Awesome Icon Library (For modern icons in the menu) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script>
        let currentScreen = 'screen-home';
        const screens = document.querySelectorAll('.screen');
        const headerTitle = document.getElementById('header-title');
        const statusIndicator = document.getElementById('status-indicator');

        // GLOBAL STATE for modal navigation
        let nextScreenOnModalClose = null;

        // --- Utility Functions ---

        /**
         * Shows a custom modal with content and sets an optional screen to navigate to upon closing.
         * @param {string} title - The title of the modal.
         * @param {string} text - The main content of the modal.
         * @param {string|null} nextScreenId - The ID of the screen to show after the modal is closed.
         */
        function showModal(title, text, nextScreenId = null) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-text').textContent = text;
            document.getElementById('modal-message').style.display = 'block';
            nextScreenOnModalClose = nextScreenId; // Store the next screen ID
        }

        /**
         * Closes the custom modal and navigates to a predefined screen if set.
         */
        function closeModal() {
            document.getElementById('modal-message').style.display = 'none';
            // If a next screen was specified, navigate there now
            if (nextScreenOnModalClose) {
                showScreen(nextScreenOnModalClose);
                nextScreenOnModalClose = null; // Clear the state
            }
        }

        function alertPlaceholder(action) {
            showModal('Feature Placeholder', `The feature '${action}' would normally launch a specific form or screen. This is a simulation.`);
        }

        function setHeader(title) {
            headerTitle.textContent = title;
        }

        function updateStatus() {
            statusIndicator.textContent = `App Status: Ready (${currentScreen.replace('screen-', 'Screen ').replace(/-/g, ' ').trim()})`;
        }

        function showScreen(screenId) {
            // Hide all screens
            screens.forEach(screen => {
                screen.classList.remove('active');
            });

            // Show the requested screen
            const nextScreen = document.getElementById(screenId);
            if (nextScreen) {
                nextScreen.classList.add('active');
                currentScreen = screenId;

                // Update Header and Status
                if (screenId === 'screen-home') setHeader('Secret Animal Society');
                else if (screenId === 'screen-menu') setHeader('Main Menu');
                else if (screenId === 'screen-help') setHeader('Ways to Help');
                else if (screenId === 'screen-form') setHeader('Adoption Form');
                else if (screenId === 'screen-foster-form') setHeader('Foster Application');
                else if (screenId === 'screen-donate-form') setHeader('Donation');
                else if (screenId === 'screen-lost-found') setHeader('Lost & Found');
                else if (screenId === 'screen-cruelty-report') setHeader('Report Cruelty');
                else if (screenId === 'screen-settings') setHeader('Settings');
                else if (screenId === 'screen-body-language') setHeader('Pet Body Language');
                else if (screenId === 'screen-find-animal') setHeader('Found Animal Protocol'); // NEW HEADER
                else if (screenId === 'screen-pet-health') setHeader('Pet Health Guide'); // NEW HEADER

                updateStatus();
            }
        }

        // --- Form Submission Handlers ---

        // Adoption Form
        document.getElementById('adoption-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const emailInput = document.getElementById('email');

            if (!emailInput.value.includes('@')) {
                document.getElementById('email-error').textContent = "Please enter a valid email address.";
                return;
            }
            document.getElementById('email-error').textContent = "";

            // Navigate back to help screen after modal closes
            showModal('Application Submitted!', 'Thank you for submitting your adoption application. A counselor will review your preferences and contact you shortly.', 'screen-help');
        });

        // Foster Form
        document.getElementById('foster-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const fosterTypes = document.querySelectorAll('input[name="foster_type"]:checked');
            if (fosterTypes.length === 0) {
                 showModal('Error', 'Please select at least one animal type you are comfortable fostering.');
                 return;
            }
            // Navigate back to help screen after modal closes
            showModal('Foster Survey Completed!', 'Thank you for your interest in fostering! We will contact you based on your experience and availability.', 'screen-help');
        });

        // Donation Selection
        let selectedDonationAmount = 0;
        function selectDonation(button) {
            document.querySelectorAll('.donation-btn').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            selectedDonationAmount = button.getAttribute('data-amount');
            document.getElementById('custom_amount').value = '';
        }

        function clearSelection() {
             document.querySelectorAll('.donation-btn').forEach(btn => btn.classList.remove('selected'));
             selectedDonationAmount = 0;
        }

        function submitDonation() {
            const customAmount = document.getElementById('custom_amount').value;
            let finalAmount = selectedDonationAmount || customAmount;

            if (finalAmount > 0) {
                // Navigate back to menu screen after modal closes
                showModal('Donation Success!', `Thank you for your generous donation of $${finalAmount}! You are saving lives.`, 'screen-menu');
            } else {
                showModal('Error', 'Please select a pre-set amount or enter a custom amount.');
            }
        }

        // CRUELTY REPORT FORM SUBMISSION HANDLER
        document.getElementById('cruelty-report-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const locationInput = document.getElementById('incident_location');
            const descriptionInput = document.getElementById('incident_description');

            let isValid = true;

            if (locationInput.value.trim() === '') {
                document.getElementById('location-error').textContent = "Location is required.";
                isValid = false;
            } else {
                document.getElementById('location-error').textContent = "";
            }

            if (descriptionInput.value.trim() === '') {
                document.getElementById('description-error').textContent = "Description of the incident is required.";
                isValid = false;
            } else {
                document.getElementById('description-error').textContent = "";
            }

            if (isValid) {
                const name = document.getElementById('reporter_name').value.trim();
                const email = document.getElementById('reporter_email').value.trim();
                const location = locationInput.value.trim();
                const description = descriptionInput.value.trim();

                let submissionMessage = `**Location:** ${location}\n**Incident:** ${description}`;
                let title;

                if (name === '' && email === '') {
                    title = 'Anonymous Report Received!';
                    submissionMessage += "\n\n**Note:** This report was submitted anonymously.";
                } else {
                    title = 'Report Received!';
                    submissionMessage += `\n\n**Reported By:** ${name || 'N/A'} (Email: ${email || 'N/A'})`;
                }

                // Pass 'screen-menu' so closeModal navigates back
                showModal(title, submissionMessage, 'screen-menu');

                // Clear mandatory fields after submission
                locationInput.value = '';
                descriptionInput.value = '';
                document.getElementById('reporter_name').value = '';
                document.getElementById('reporter_email').value = '';
            }
        });


        // Initial setup
        window.onload = function() {
            // Use Font Awesome icons now that the script is loaded
            document.querySelector('.menu-button:nth-child(1) i').className = 'fas fa-paw';
            document.querySelector('.menu-button:nth-child(2) i').className = 'fas fa-exclamation-triangle';
            document.querySelector('.menu-button:nth-child(3) i').className = 'fas fa-search-location';

            showScreen('screen-home');
        };

    </script>
</body>
</html>
